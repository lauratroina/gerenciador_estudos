@{
    ViewBag.Title = "Matérias";
}


<div class="page-header">
    <div class="row">
        <h1 class="col-xs-12 col-sm-4 text-center text-left-sm"><i class="fa fa-book page-header-icon"></i>&nbsp;&nbsp;@ViewBag.Title</h1>
        <div class="col-xs-12 col-sm-8">
            <div class="row">
                <hr class="visible-xs no-grid-gutter-h">
                <div class="pull-right col-xs-12 col-sm-auto"><a href="@Url.Action("Editar", "Materia")" class="btn btn-primary btn-labeled btn-flat" style="width: 100%;"><span class="btn-label icon fa fa-plus"></span>Novo</a></div>
            </div>
        </div>
    </div>
</div>


<!-- / Javascript -->
<div class="table-primary">
    <div class="hidden" id="jq-datatable-caption">Lista de @ViewBag.Title</div>
    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="jq-datatable">
        <thead>
            <tr>
                <th>Nome</th>
                <th width="150">Cor da Borda</th>
                <th width="150">Cor do Fundo</th>
                <th width="150">Cor do Texto</th>
                <th width="150">Ação</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>
<!-- /11. $JQUERY_DATA_TABLES -->


<script type="text/javascript">

    init.push(function () {
        $('#jq-datatable').dataTable({
            "bServerSide": true,
            "sPaginationType": "full_numbers",
            "sAjaxSource": "@Url.Action("Listar", "Materia")",
            "bProcessing": true,
            "language": dataTableLang,
            "aoColumns": [
                { "sName": "Nome", "bSortable": false },
                {
                    "sName": "CorBorda",
                    "bSortable": false,
                    "mRender": function (data, type, full) {
                        return `<div style="color:${data};background-color:${data}">${data}</div>`;
                    }
                },
                {
                    "sName": "CorFundo",
                    "bSortable": false,
                    "mRender": function (data, type, full) {
                        return `<div style="color:${data};background-color:${data}">${data}</div>`;
                    } },
                {
                    "sName": "CorTexto",
                    "bSortable": false,
                    "mRender": function (data, type, full) {
                        return `<div style="color:${data};background-color:${data}">${data}</div>`;
                    }},
                {
                    "sName": "Editar",
                    "bSearchable": false,
                    "bSortable": false,
                    "mRender": function (data, type, full) {
                        return `<a href="@Url.Action("Editar", "Materia")/${data}" class="btn btn-xs btn-warning btn-flat">Editar</a>&nbsp;
                        <a href="@Url.Action("Deletar", "Materia")/${data}" class="btn btn-xs btn-danger btn-flat">Excluir</a>`;
                    }
                }
            ]
        });
    });

</script>
