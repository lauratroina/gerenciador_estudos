@{
    ViewBag.Title = Session.GetModel<SessionModel>().Usuario.Nome;
}
@model UsuarioSenhaViewModel

<div class="page-header">
    <div class="row">
        <h1 class="col-xs-12 col-sm-4 text-center text-left-sm"><i class="fa fa-group page-header-icon"></i>&nbsp;&nbsp;@ViewBag.Title</h1>

        <div class="col-xs-12 col-sm-8">
            <div class="row">
                <hr class="visible-xs no-grid-gutter-h">
                <div class="pull-right col-xs-12 col-sm-auto"><a href="@Url.Action("Index","Usuario")" class="btn btn-labeled btn-flat" style="width: 100%;"><span class="btn-label icon fa fa-angle-left"></span>Voltar</a></div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">

        
        @using (Html.BeginForm("AlterarSenha", "Conta", new { returnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "panel form-horizontal" }))
        {      
            @Html.ValidationSummary(false, null, new { @class = "alert alert-danger" })
            
            <div class="panel-heading">
                <span class="panel-title">Alterar Senha</span>
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <label for="senhaatual" class="col-sm-2 control-label">Senha Atual *</label>
                    <div class="col-sm-10">
                        @Html.PasswordFor(m => m.senhaatual, new { validate = "required", @class = "form-control", placeholder = "Informe a Senha do Usuário" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="senha" class="col-sm-2 control-label">Nova Senha *</label>
                    <div class="col-sm-10">
                        @Html.PasswordFor(m => m.senha, new { validate = "required", @class = "form-control", placeholder = "Informe a Senha do Usuário" })
                    </div>
                </div>
                <div class="form-group">
                    <label for="senharepeat" class="col-sm-2 control-label">Repita a Nova Senha *</label>
                    <div class="col-sm-10">
                        @Html.PasswordFor(m => m.senharepeat, new { validate = "required,equals[#senha]", @class = "form-control", placeholder = "Repita a Senha do Usuário" })
                    </div>
                </div>
 
                <div class="form-group" style="margin-bottom: 0;">
                    <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-primary">Enviar</button>
                    </div>
                </div> 
            </div>
        }
    </div>
</div>
